<template>
  <div class="git-install-content">
    <p class="text-muted mb-3">Git æ˜¯ç‰ˆæœ¬æ§åˆ¶å·¥å…·ï¼Œæ¨èå®‰è£…ä»¥è·å¾—æ›´å¥½çš„å¼€å‘ä½“éªŒã€‚å¦‚æœæ‚¨è¿˜æ²¡æœ‰å®‰è£… Gitï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤å®‰è£…ï¼š</p>

    <div class="git-methods">
      <ElTabs v-model="gitInstallMethod" type="card">
        <!-- Windows Gitå®‰è£… -->
        <ElTabPane label="Windows" name="windows-git">
          <div class="git-method">
            <h5>ğŸªŸ å®˜æ–¹å®‰è£…åŒ…ï¼ˆæ¨èï¼‰</h5>
            <p class="method-desc">ä¸‹è½½å®˜æ–¹å®‰è£…åŒ…ï¼Œå‚»ç“œå¼å®‰è£…</p>
            <div class="install-steps">
              <ol>
                <li>è®¿é—® <a href="https://git-scm.com/download/win" target="_blank" class="link-primary">https://git-scm.com/download/win</a></li>
                <li>ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„ Git for Windows</li>
                <li>è¿è¡Œä¸‹è½½çš„ .exe æ–‡ä»¶</li>
                <li>æŒ‰ç…§å®‰è£…å‘å¯¼å®Œæˆå®‰è£…ï¼ˆæ¨èä½¿ç”¨é»˜è®¤è®¾ç½®ï¼‰</li>
              </ol>
            </div>

            <h5 class="mt-4">ğŸ« Chocolatey å®‰è£…</h5>
            <p class="method-desc">ä½¿ç”¨ Windows åŒ…ç®¡ç†å™¨</p>
            <div class="code-block">
              <div class="code-header">
                <span>PowerShellï¼ˆä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œï¼‰</span>
                <ElButton size="small" @click="copyToClipboard('choco install git')">å¤åˆ¶</ElButton>
              </div>
              <pre><code>choco install git</code></pre>
            </div>
          </div>
        </ElTabPane>

        <!-- macOS Gitå®‰è£… -->
        <ElTabPane label="macOS" name="macos-git">
          <div class="git-method">
            <h5>ğŸ å®˜æ–¹å®‰è£…åŒ…</h5>
            <p class="method-desc">ä¸‹è½½å®˜æ–¹ pkg åŒ…å®‰è£…</p>
            <div class="install-steps">
              <ol>
                <li>è®¿é—® <a href="https://git-scm.com/download/mac" target="_blank" class="link-primary">https://git-scm.com/download/mac</a></li>
                <li>ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„ Git for macOS</li>
                <li>åŒå‡»è¿è¡Œå®‰è£…åŒ…</li>
                <li>æŒ‰ç…§å®‰è£…å‘å¯¼å®Œæˆå®‰è£…</li>
              </ol>
            </div>

            <h5 class="mt-4">ğŸº Homebrew å®‰è£…ï¼ˆæ¨èï¼‰</h5>
            <p class="method-desc">ä½¿ç”¨ macOS åŒ…ç®¡ç†å™¨</p>
            <div class="code-block">
              <div class="code-header">
                <span>Terminal</span>
                <ElButton size="small" @click="copyToClipboard('brew install git')">å¤åˆ¶</ElButton>
              </div>
              <pre><code>brew install git</code></pre>
            </div>

            <h5 class="mt-4">ğŸ Xcode Command Line Tools</h5>
            <p class="method-desc">macOS å†…ç½®æ–¹å¼</p>
            <div class="code-block">
              <div class="code-header">
                <span>Terminal</span>
                <ElButton size="small" @click="copyToClipboard('xcode-select --install')">å¤åˆ¶</ElButton>
              </div>
              <pre><code>xcode-select --install</code></pre>
            </div>
          </div>
        </ElTabPane>

        <!-- Linux Gitå®‰è£… -->
        <ElTabPane label="Linux" name="linux-git">
          <div class="git-method">
            <h5>ğŸ“¦ åŒ…ç®¡ç†å™¨å®‰è£…</h5>
            <p class="method-desc">ä½¿ç”¨ç³»ç»ŸåŒ…ç®¡ç†å™¨å®‰è£…</p>

            <div class="linux-distros">
              <div class="distro-item">
                <h6>Ubuntu/Debian:</h6>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <ElButton size="small" @click="copyToClipboard('sudo apt update && sudo apt install git')">å¤åˆ¶</ElButton>
                  </div>
                  <pre><code>sudo apt update && sudo apt install git</code></pre>
                </div>
              </div>

              <div class="distro-item">
                <h6>CentOS/RHEL/Fedora:</h6>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <ElButton size="small" @click="copyToClipboard('sudo yum install git')">å¤åˆ¶</ElButton>
                  </div>
                  <pre><code>sudo yum install git</code></pre>
                </div>
              </div>

              <div class="distro-item">
                <h6>Arch Linux:</h6>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <ElButton size="small" @click="copyToClipboard('sudo pacman -S git')">å¤åˆ¶</ElButton>
                  </div>
                  <pre><code>sudo pacman -S git</code></pre>
                </div>
              </div>
            </div>
          </div>
        </ElTabPane>
      </ElTabs>
    </div>

    <!-- Gitå®‰è£…éªŒè¯ -->
    <div class="git-verification mt-4">
      <h5>âœ… éªŒè¯ Git å®‰è£…</h5>
      <p class="text-muted mb-3">å®‰è£…å®Œæˆåï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ç¡®è®¤ Git å®‰è£…æˆåŠŸï¼š</p>

      <div class="verification-steps">
        <div class="verification-step">
          <h6>1ï¸âƒ£ éªŒè¯ Git å®‰è£…</h6>
          <div class="code-block">
            <div class="code-header">
              <span>ç»ˆç«¯/å‘½ä»¤æç¤ºç¬¦</span>
              <ElButton size="small" @click="copyToClipboard('git --version')">å¤åˆ¶</ElButton>
            </div>
            <pre><code>git --version</code></pre>
          </div>
          <div class="expected-output">
            <p><strong>æœŸæœ›è¾“å‡ºï¼š</strong> <code>git version 2.x.x</code> æˆ–æ›´é«˜ç‰ˆæœ¬</p>
          </div>
        </div>

        <div class="verification-step">
          <h6>2ï¸âƒ£ é…ç½® Git ç”¨æˆ·ä¿¡æ¯ï¼ˆå¯é€‰ä½†æ¨èï¼‰</h6>
          <div class="code-block">
            <div class="code-header">
              <span>ç»ˆç«¯/å‘½ä»¤æç¤ºç¬¦</span>
              <ElButton size="small" @click="copyToClipboard('git config --global user.name YourName')">å¤åˆ¶</ElButton>
            </div>
            <pre><code>git config --global user.name "Your Name"</code></pre>
          </div>
          <div class="code-block">
            <div class="code-header">
              <span>ç»ˆç«¯/å‘½ä»¤æç¤ºç¬¦</span>
              <ElButton size="small" @click="copyToClipboard('git config --global user.email your.email@example.com')">å¤åˆ¶</ElButton>
            </div>
            <pre><code>git config --global user.email "your.email@example.com"</code></pre>
          </div>
          <div class="expected-output">
            <p><strong>è¯´æ˜ï¼š</strong> é…ç½®æ‚¨çš„ Git ç”¨æˆ·åå’Œé‚®ç®±ï¼Œç”¨äºæäº¤è®°å½•</p>
          </div>
        </div>
      </div>

      <div class="git-troubleshooting mt-3">
        <h6>ğŸ”§ å¸¸è§é—®é¢˜</h6>
        <div class="troubleshooting-items">
          <div class="troubleshooting-item">
            <strong>âŒ å‘½ä»¤æœªæ‰¾åˆ°ï¼š</strong>
            <ul>
              <li>é‡æ–°å¯åŠ¨ç»ˆç«¯/å‘½ä»¤æç¤ºç¬¦</li>
              <li>Windows ç”¨æˆ·å¯èƒ½éœ€è¦é‡å¯è®¡ç®—æœº</li>
              <li>ç¡®è®¤å®‰è£…è·¯å¾„å·²æ·»åŠ åˆ°ç³»ç»Ÿ PATH ç¯å¢ƒå˜é‡</li>
            </ul>
          </div>
          <div class="troubleshooting-item">
            <strong>âŒ æƒé™é”™è¯¯ï¼š</strong>
            <ul>
              <li>ä½¿ç”¨ç®¡ç†å‘˜æƒé™è¿è¡Œç»ˆç«¯</li>
              <li>Linux/macOS ç”¨æˆ·å¯èƒ½éœ€è¦ä½¿ç”¨ <code>sudo</code></li>
            </ul>
          </div>
          <div class="troubleshooting-item">
            <strong>âŒ ç‰ˆæœ¬è¿‡ä½ï¼š</strong>
            <ul>
              <li>Windowsï¼šé‡æ–°ä¸‹è½½æœ€æ–°ç‰ˆæœ¬å®‰è£…åŒ…</li>
              <li>macOSï¼šè¿è¡Œ <code>brew upgrade git</code></li>
              <li>Linuxï¼šä½¿ç”¨åŒ…ç®¡ç†å™¨æ›´æ–°</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue'
import { ElButton, ElTabs, ElTabPane, ElMessage } from 'element-plus'

const gitInstallMethod = ref('windows-git')

const copyToClipboard = async (text: string) => {
  try {
    await navigator.clipboard.writeText(text)
    ElMessage.success('å¤åˆ¶æˆåŠŸ')
  } catch (error) {
    ElMessage.error('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶')
  }
}
</script>

<style scoped>
.git-install-content {
  padding: 10px 0;
}

.git-method {
  padding: 10px 0;
}

.git-method h5 {
  color: #2c3e50;
  margin-bottom: 8px;
}

.method-desc {
  color: #666;
  margin-bottom: 15px;
  font-size: 0.9rem;
}

.install-steps ol {
  margin: 0;
  padding-left: 20px;
}

.install-steps li {
  margin-bottom: 8px;
  line-height: 1.6;
}

.linux-distros {
  margin-top: 20px;
}

.distro-item {
  margin-bottom: 20px;
}

.distro-item h6 {
  color: #2c3e50;
  margin-bottom: 10px;
}

.code-block {
  background: #1e1e1e;
  border-radius: 6px;
  overflow: hidden;
  margin-bottom: 10px;
  border: 1px solid #333;
}

.code-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px 12px;
  background: #2d2d2d;
  border-bottom: 1px solid #444;
}

.code-header span {
  font-size: 0.8rem;
  color: #ccc;
}

.code-block pre {
  margin: 0;
  padding: 12px;
  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
  font-size: 0.9rem;
  line-height: 1.4;
  color: #e6e6e6;
}

.git-verification {
  border-top: 1px solid #e9ecef;
  padding-top: 20px;
}

.verification-steps {
  margin-top: 15px;
}

.verification-step {
  margin-bottom: 20px;
}

.verification-step h6 {
  color: #2c3e50;
  margin-bottom: 10px;
}

.expected-output {
  margin-top: 8px;
  padding: 8px 12px;
  background: #e7f3ff;
  border-radius: 4px;
  border-left: 3px solid #1890ff;
}

.expected-output p {
  margin: 0;
  font-size: 0.9rem;
}

.git-troubleshooting {
  background: #fff3cd;
  padding: 15px;
  border-radius: 6px;
  border-left: 4px solid #ffc107;
}

.git-troubleshooting h6 {
  color: #856404;
  margin-bottom: 10px;
}

.troubleshooting-items {
  font-size: 0.9rem;
}

.troubleshooting-item {
  margin-bottom: 10px;
}

.troubleshooting-item strong {
  color: #856404;
}

.troubleshooting-item ul {
  margin: 5px 0 0 20px;
}

.troubleshooting-item li {
  margin-bottom: 4px;
}

.troubleshooting-item code {
  background: #f1f3f4;
  padding: 2px 6px;
  border-radius: 3px;
  font-size: 0.85rem;
}

.link-primary {
  color: #1890ff;
  text-decoration: none;
}

.link-primary:hover {
  text-decoration: underline;
}
</style>