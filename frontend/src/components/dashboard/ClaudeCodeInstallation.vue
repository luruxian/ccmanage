<template>
  <ElCard class="mb-4">
    <template #header>
      <h4>ğŸš€ Claude Codeå®‰è£…æ–¹æ³•</h4>
    </template>
    <div class="install-methods">
      <div class="method-tabs">
        <ElTabs v-model="installMethod" type="card">
          <!-- NPMå®‰è£… -->
          <ElTabPane label="NPM å®‰è£…ï¼ˆæ¨èï¼‰" name="npm">
            <div class="install-content">
              <p class="text-muted mb-3">é€‚ç”¨äºæ‰€æœ‰æ”¯æŒNode.jsçš„ç³»ç»Ÿï¼Œå®‰è£…ç®€å•å¿«é€Ÿ</p>
              <div class="code-block">
                <div class="code-header">
                  <span>Terminal / å‘½ä»¤æç¤ºç¬¦</span>
                  <ElButton size="small" @click="copyToClipboard('npm install -g @anthropic-ai/claude-code')">å¤åˆ¶</ElButton>
                </div>
                <pre><code>npm install -g @anthropic-ai/claude-code</code></pre>
              </div>
              <div class="install-note">
                <p><strong>ğŸ“ æ³¨æ„ï¼š</strong></p>
                <ul>
                  <li>éœ€è¦å…ˆå®‰è£… Node.js 18 æˆ–æ›´é«˜ç‰ˆæœ¬</li>
                  <li>åœ¨æŸäº›ç³»ç»Ÿä¸Šå¯èƒ½éœ€è¦ç®¡ç†å‘˜æƒé™ï¼ˆsudoï¼‰</li>
                </ul>
              </div>
            </div>
          </ElTabPane>

          <!-- Windowså®‰è£… -->
          <ElTabPane label="Windows" name="windows">
            <div class="install-content">
              <p class="text-muted mb-3">Windowsç³»ç»Ÿä¸“ç”¨å®‰è£…æ–¹æ³•</p>

              <div class="os-method mb-4">
                <h5>ğŸ”µ PowerShell å®‰è£…ï¼ˆæ¨èï¼‰</h5>
                <div class="code-block">
                  <div class="code-header">
                    <span>PowerShellï¼ˆä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œï¼‰</span>
                    <ElButton size="small" @click="copyToClipboard('irm https://claude.ai/install.ps1 | iex')">å¤åˆ¶</ElButton>
                  </div>
                  <pre><code>irm https://claude.ai/install.ps1 | iex</code></pre>
                </div>
              </div>

              <div class="os-method">
                <h5>â¬› å‘½ä»¤æç¤ºç¬¦ (CMD)</h5>
                <div class="code-block">
                  <div class="code-header">
                    <span>å‘½ä»¤æç¤ºç¬¦ï¼ˆä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œï¼‰</span>
                    <ElButton size="small" @click="copyToClipboard('curl -fsSL https://claude.ai/install.cmd -o install.cmd && install.cmd && del install.cmd')">å¤åˆ¶</ElButton>
                  </div>
                  <pre><code>curl -fsSL https://claude.ai/install.cmd -o install.cmd && install.cmd && del install.cmd</code></pre>
                </div>
              </div>

              <div class="install-note">
                <p><strong>ğŸ’¡ Windows å°è´´å£«ï¼š</strong></p>
                <ul>
                  <li>å³é”®ç‚¹å‡» PowerShell æˆ– CMDï¼Œé€‰æ‹©"ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ"</li>
                  <li>å¦‚æœé‡åˆ°æ‰§è¡Œç­–ç•¥é—®é¢˜ï¼Œå…ˆè¿è¡Œï¼š<code>Set-ExecutionPolicy RemoteSigned</code></li>
                  <li>å®‰è£…å®Œæˆåé‡å¯ç»ˆç«¯ä»¥ä½¿ç”¨ <code>claude</code> å‘½ä»¤</li>
                </ul>
              </div>
            </div>
          </ElTabPane>

          <!-- macOSå®‰è£… -->
          <ElTabPane label="macOS" name="macos">
            <div class="install-content">
              <p class="text-muted mb-3">macOSç³»ç»Ÿä¸“ç”¨å®‰è£…æ–¹æ³•</p>

              <div class="os-method">
                <h5>ğŸ ä¸€é”®å®‰è£…è„šæœ¬</h5>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <ElButton size="small" @click="copyToClipboard('curl -fsSL https://claude.ai/install.sh | bash')">å¤åˆ¶</ElButton>
                  </div>
                  <pre><code>curl -fsSL https://claude.ai/install.sh | bash</code></pre>
                </div>
              </div>

              <div class="install-note">
                <p><strong>ğŸ macOS å°è´´å£«ï¼š</strong></p>
                <ul>
                  <li>æ‰“å¼€ Terminalï¼ˆç»ˆç«¯ï¼‰åº”ç”¨ç¨‹åº</li>
                  <li>å¦‚æœæç¤ºæƒé™é—®é¢˜ï¼Œå¯èƒ½éœ€è¦åœ¨å‘½ä»¤å‰åŠ  <code>sudo</code></li>
                  <li>é¦–æ¬¡è¿è¡Œå¯èƒ½ä¼šè§¦å‘ macOS å®‰å…¨æç¤ºï¼Œè¯·å…è®¸æ‰§è¡Œ</li>
                  <li>å¦‚æœä½¿ç”¨ Homebrewï¼Œä¹Ÿå¯ä»¥é€šè¿‡åŒ…ç®¡ç†å™¨å®‰è£…</li>
                </ul>
              </div>
            </div>
          </ElTabPane>

          <!-- Linuxå®‰è£… -->
          <ElTabPane label="Linux" name="linux">
            <div class="install-content">
              <p class="text-muted mb-3">Linuxç³»ç»Ÿä¸“ç”¨å®‰è£…æ–¹æ³•</p>

              <div class="os-method">
                <h5>ğŸ§ ä¸€é”®å®‰è£…è„šæœ¬</h5>
                <div class="code-block">
                  <div class="code-header">
                    <span>Terminal</span>
                    <ElButton size="small" @click="copyToClipboard('curl -fsSL https://claude.ai/install.sh | bash')">å¤åˆ¶</ElButton>
                  </div>
                  <pre><code>curl -fsSL https://claude.ai/install.sh | bash</code></pre>
                </div>
              </div>

              <div class="install-note">
                <p><strong>ğŸ§ Linux å°è´´å£«ï¼š</strong></p>
                <ul>
                  <li>å¤§å¤šæ•°å‘è¡Œç‰ˆéƒ½æ”¯æŒè¯¥å®‰è£…è„šæœ¬</li>
                  <li>å¦‚æœéœ€è¦ç®¡ç†å‘˜æƒé™ï¼Œåœ¨å‘½ä»¤å‰åŠ  <code>sudo</code></li>
                  <li>ç¡®ä¿å·²å®‰è£… <code>curl</code> æˆ– <code>wget</code></li>
                  <li>å®‰è£…å®Œæˆåå¯èƒ½éœ€è¦é‡æ–°åŠ è½½ shell é…ç½®ï¼š<code>source ~/.bashrc</code></li>
                </ul>
              </div>
            </div>
          </ElTabPane>
        </ElTabs>
      </div>
    </div>
  </ElCard>
</template>

<script setup lang="ts">
import { ref } from 'vue'
import { ElCard, ElButton, ElTabs, ElTabPane, ElMessage } from 'element-plus'

const installMethod = ref('npm')

const copyToClipboard = async (text: string) => {
  try {
    await navigator.clipboard.writeText(text)
    ElMessage.success('å¤åˆ¶æˆåŠŸ')
  } catch (error) {
    ElMessage.error('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶')
  }
}
</script>

<style scoped>
.install-methods {
  padding: 10px 0;
}

.install-content {
  padding: 10px 0;
}

.os-method {
  margin-bottom: 20px;
}

.os-method h5 {
  color: #2c3e50;
  margin-bottom: 10px;
}

.code-block {
  background: #1e1e1e;
  border-radius: 6px;
  overflow: hidden;
  margin-bottom: 15px;
  border: 1px solid #333;
}

.code-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px 12px;
  background: #2d2d2d;
  border-bottom: 1px solid #444;
}

.code-header span {
  font-size: 0.8rem;
  color: #ccc;
}

.code-block pre {
  margin: 0;
  padding: 12px;
  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
  font-size: 0.9rem;
  line-height: 1.4;
  color: #e6e6e6;
}

.install-note {
  background: #e7f3ff;
  padding: 15px;
  border-radius: 6px;
  border-left: 4px solid #1890ff;
  margin-top: 15px;
}

.install-note p {
  margin: 0 0 10px 0;
  font-weight: 500;
}

.install-note ul {
  margin: 0;
  padding-left: 20px;
}

.install-note li {
  margin-bottom: 5px;
  line-height: 1.5;
}

.install-note code {
  background: #f1f3f4;
  padding: 2px 6px;
  border-radius: 3px;
  font-size: 0.85rem;
}
</style>